(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[577],{7984:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(184),s=function(){return(0,r.jsx)("div",{className:"error__text",children:"Ooops. Something went wrong;("})}},2278:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(1087),s=n(184);function u(e){var t=e.movies,n=e.prevLocation;return(0,s.jsx)("ul",{className:"movies__list",children:t&&t.map((function(e){return(0,s.jsx)("li",{className:"movies__item",children:(0,s.jsx)(r.rU,{className:"movie__link",to:"/movies/".concat(e.id),state:{from:n},children:(0,s.jsx)("p",{children:e.original_title})})},e.id)}))})}},2343:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(184),s=function(e){return(0,r.jsx)("section",{className:"section",children:(0,r.jsx)("div",{className:"container",children:e.children})})}},3577:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r=n(9439),s=n(7737),u=n(2791),a=n(7689),o=n(184),i=function(e){var t=e.onSubmit,n=(0,u.useState)((function(){var e,t=sessionStorage.getItem("prevSearch");return null!==(e=JSON.parse(t))&&void 0!==e?e:""})),s=(0,r.Z)(n,2),i=s[0],c=s[1],p=(0,a.TH)();(0,u.useEffect)((function(){sessionStorage.setItem("prevSearch",JSON.stringify(i))}),[i]),(0,u.useEffect)((function(){p.groupsname&&c(p.groupsname)}),[p.groupsname]);return(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==i.trim()?(t(i),c("")):alert("Write correct word")},className:"searchbar__form",children:[(0,o.jsx)("input",{className:"searchbar__input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Movies",onChange:function(e){c(e.target.value.toLowerCase())},defaultValue:i}),(0,o.jsx)("button",{type:"submit",className:"searchbar__btn",children:"Search"})]})},c=n(2278),p=n(2822),f=n(2007),l=n.n(f),m=n(2343),h=n(7984),d="idle",v="pending",g="resolved",x="rejected",y=function(){var e=(0,u.useState)((function(){var e,t=sessionStorage.getItem("prevSearch");return null!==(e=JSON.parse(t))&&void 0!==e?e:""})),t=(0,r.Z)(e,2),n=t[0],f=t[1],l=(0,u.useState)(d),y=(0,r.Z)(l,2),S=y[0],b=y[1],_=(0,u.useState)((function(){var e,t=sessionStorage.getItem("groups");return null!==(e=JSON.parse(t))&&void 0!==e?e:[]})),j=(0,r.Z)(_,2),w=j[0],Z=j[1],k=(0,a.TH)();(0,u.useEffect)((function(){sessionStorage.setItem("groups",JSON.stringify(w)),sessionStorage.setItem("prevSearch",JSON.stringify(n))}),[w,n]),(0,u.useEffect)((function(){k.groupsname&&(Z(k.groupsname),f(k.groupsname))}),[k.groupsname]),(0,u.useEffect)((function(){n&&(b(v),s.qF(n).then((function(e){if(e.results.length>0)return Z(e.results),void b(g);b(x)})))}),[n]);var N=function(e){f(e)};return S===d?(0,o.jsxs)(m.Z,{children:[(0,o.jsx)(i,{onSubmit:N}),w&&(0,o.jsx)(c.Z,{movies:w})]}):S===v?(0,o.jsxs)(m.Z,{children:[(0,o.jsx)(i,{onSubmit:N}),(0,o.jsx)(p.Z,{})]}):S===x?(0,o.jsxs)(m.Z,{children:[(0,o.jsx)(i,{onSubmit:N}),(0,o.jsx)(h.Z,{})]}):S===g?(0,o.jsxs)(m.Z,{children:[(0,o.jsx)(i,{onSubmit:N}),(0,o.jsx)(c.Z,{movies:w,prevLocation:k})]}):void 0};y.porpTypes={inputSearch:l().string.isRequired};var S=y},7737:function(e,t,n){"use strict";n.d(t,{Bg:function(){return f},Hx:function(){return d},qF:function(){return c},wr:function(){return o},xc:function(){return m}});var r=n(5861),s=n(7757),u=n.n(s),a=n(3263).Z.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"e38902030017580fbfa1d8a473a3610b",language:"en-US"}});function o(){return i.apply(this,arguments)}function i(){return(i=(0,r.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.get("trending/all/day").then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.get("/search/movie?query=".concat(t,"&page=1")).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.get("movie/".concat(t,"?")).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.get("movie/".concat(t,"/credits?")).then((function(e){return e.data.cast}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.get("movie/".concat(t,"/reviews?")).then((function(e){return e.data.results}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},888:function(e,t,n){"use strict";var r=n(9047);function s(){}function u(){}u.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,u,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:u,resetWarningCache:s};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=577.2c3cc75a.chunk.js.map